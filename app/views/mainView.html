<div class="container" id='content' ng-app='MyApp' ng-controller='MainController'>	
	<!-- By: Calle & Anna 2014-03-04 -->
	<div class="col-md-12">
		<h3><a id="header" href="index.html">My Academic Year</a></h3>
	</div>

	<div class="col-md-12" id="creditsOverview">
		<div class="col-md-12" ng-controller="CreditsMenuController">
			<ul id="summary">
				<li><strong>Total credits: </strong>{{totalCredits}}</li>
				<li><strong>Advanced credits: </strong>{{advancedCredits}}</li>
			</ul>
		</div>
		
		
		<div class="col-md-12" ng-controller="ProgressBarController">
			<progressbar max="max" value="totalCredits">
				<span style="color:black; white-space:nowrap;">{{totalCredits}} / {{max}}</span>
			</progressbar>
		</div>
	</div>
    
	<div class="col-md-7" id="left" ng-controller="PeriodController">
		
		<div ng-controller="SemesterController">
			<tabset vertical="false" type="navType">
				<tab heading="Fall semester">
					<hr />
					<div class="panel panel-info" id="period1">
						<div class="panel-heading">Period 1</div>
			
						<div class="panel-body">
				     	   	<table class="table">
				        		<tr ng-repeat="course in selectedCourses | filter: {period:'1'}">
				        			<td>{{course.title}}</td>
				        			<td>{{course.credits}}</td>
				        			<td>{{course.level}}</td>
				        			<td><input type="Button" value="Delete" ng-click="removeCourse(course)" /></td>
				        		</tr>
				        	</table>
						</div>
			        	
						<div class="panel-footer">
							<p class="text-right">Credits: </p>
						</div>
					</div> <!-- /panel period1 -->
					
			
					<div class="panel panel-info" id="period2">
						<div class="panel-heading">Period 2</div>
						
						<div class="panel-body">
							<table class="table">
				        		<tr ng-repeat="course in selectedCourses | filter: {period:'2'}">
				        			<td>{{course.title}}</td>
				        			<td>{{course.credits}}</td>
				        			<td>{{course.level}}</td>
				        			<td><input type="Button" value="Delete" ng-click="removeCourse(course)" /></td>
				        		</tr>
				        	</table>
						</div>
			        	
						<div class="panel-footer">
							<p class="text-right">Credits:</p>
						</div>
					</div> <!-- /panel period2 -->
				</tab> <!-- /tab Fall Semester -->
				
				
				<tab heading="Spring semester">
					<hr />
					<div class="panel panel-info" id="period3">
						<div class="panel-heading">Period 3</div>
			
						<div class="panel-body">
							<table class="table">
								<tr ng-repeat="course in selectedCourses | filter: {period:'3'}">
									<td>{{course.title}}</td>
									<td>{{course.credits}}</td>
									<td>{{course.level}}</td>
									<td><input type="Button" value="Delete" ng-click="removeCourse(course)" /></td>
								</tr>
							</table>
						</div>

						<div class="panel-footer">
							<p class="text-right">Credits:</p>
						</div>
					</div> <!-- /panel period3 -->
		
		
					<div class="panel panel-info" id="period4">
						<div class="panel-heading">Period 4</div>
			
						<div class="panel-body">
							<table class="table">
								<tr ng-repeat="course in selectedCourses | filter: {period:'4'}">
									<td>{{course.title}}</td>
									<td>{{course.credits}}</td>
									<td>{{course.level}}</td>
									<td><input type="Button" value="Delete" ng-click="removeCourse(course)" /></td>
								</tr>
							</table>
						</div>

						<div class="panel-footer">
							<p class="text-right">Credits:</p>
						</div>
					</div> <!-- /panel period4 -->
				</tab> <!-- /tab Spring Semester -->
			</tabset>
		</div>	<!-- /div SemesterController -->
	</div> <!-- /div PeriodController -->

	<div class="col-md-5" id="right" ng-controller="CoursesController">
		
		<!-- By: Calle and Anna 2014-03-10 -->
		<div class="col-md-12" id="courses">
			<input type='text' ng-model='searchText' placeholder='Search...' />
			<!-- we populate the drop down with the masters and set the chosen master as init-value -->
			<!-- index is the index of the master in the masters list. It updates when selectedMaster updates with $scope.$watch (in the controller) -->
			
			<select ng-init="selectedMaster=masters[{{index}}]"
					ng-model='selectedMaster'  
					ng-options='obj.title for obj in masters'>
			</select>
			<!-- we populate the drop down with the current tracks. -->
			<!-- trackIndex is the index of the chosen track in the inner JSON list for the corresponding chosen master -->
			<select ng-model='selectedTrack' 
					ng-init="selectedTrack=masters[{{index}}].specialisation[{{trackIndex}}]"
					ng-options='obj.trackCode for obj in masters[index].specialisation'>
			</select>
			
			<table class="table table-striped">
				<tr>
					<th>Course name</th>
					<th>Credits</th>
					<th>Level</th>
					<th>Period</th>
					<th></th>
				</tr>
				<tr ng-repeat="course in masters[masters.indexOf(selectedMaster)].mandatory | filter:searchText">
	        		<td>{{course.title}}</td>
	        		<td>{{course.credits}}</td>
	        		<td>{{course.level}}</td>
	        		<td>{{course.period}}</td>
					<td><input type="button" value="Add" ng-click="addCourse(course)" /></td>
	        	</tr>
	        	<tr ng-repeat="course in selectedTrack.trackCourses | filter:searchText">
	        		<td>{{course.title}}</td>
	        		<td>{{course.credits}}</td>
	        		<td>{{course.level}}</td>
	        		<td>{{course.period}}</td>
	        		<td><input type="button" value="Add" ng-click="addCourse(course)" /></td>
	        	</tr>

			</table>    	
		</div>	<!-- /courses -->
	</div>	<!-- /right -->
</div>	<!-- /container-->


